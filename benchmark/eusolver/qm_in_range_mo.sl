(set-logic LIA)

(define-fun qm ((a Int) (b Int)) Int
      (ite (< a 0) b a))

(synth-fun qm-choose ((x Int) (y Int) (z Int) ) Int
    ((Start Int (x y z
                 0
                 1
                 (+ Start Start)
                 (- Start Start)
                 (ite StartBool Start Start)))
     (X Int (x))
     (Y Int (y))
     (Z Int (z))
     (O Int (0))
     (I Int (1))
     (La Bool ((< X Y)))
     (Lb Bool ((< X Z)))
     (Lc Bool ((< X O)))
     (Ld Bool ((< X I)))
     (Le Bool ((< Y X)))
     (Lf Bool ((< Y Z)))
     (Lg Bool ((< Y O)))
     (Lh Bool ((< Y I)))
     (Li Bool ((< Z X)))
     (Lj Bool ((< Z Y)))
     (Lk Bool ((< Z O)))
     (Ll Bool ((< Z I)))
     (Lm Bool ((< O X)))
     (Ln Bool ((< O Y)))
     (Lo Bool ((< O Z)))
     (Lp Bool ((< I X)))
     (Lq Bool ((< I Y)))
     (Lr Bool ((< I Z)))
     (StartBoolx Bool  ((and La Lb)
                        (and La Lc)
                        (and La Ld)
                        (and La Le)
                        (and La Lf)
                        (and La Lg)
                        (and La Lh)
                        (and La Li)
                        (and La Lj)
                        (and La Lk)
                        (and La Ll)
                        (and La Lm)
                        (and La Ln)
                        (and La Lo)
                        (and La Lp)
                        (and La Lq)
                        (and La Lr)
                        (and Lb Lc)
                        (and Lb Ld)
                        (and Lb Le)
                        (and Lb Lf)
                        (and Lb Lg)
                        (and Lb Lh)
                        (and Lb Li)
                        (and Lb Lj)
                        (and Lb Lk)
                        (and Lb Ll)
                        (and Lb Lm)
                        (and Lb Ln)
                        (and Lb Lo)
                        (and Lb Lp)
                        (and Lb Lq)
                        (and Lb Lr)
                        (and Lc Ld)
                        (and Lc Le)
                        (and Lc Lf)
                        (and Lc Lg)
                        (and Lc Lh)
                        (and Lc Li)
                        (and Lc Lj)
                        (and Lc Lk)
                        (and Lc Ll)
                        (and Lc Lm)
                        (and Lc Ln)
                        (and Lc Lo)
                        (and Lc Lp)
                        (and Lc Lq)
                        (and Lc Lr)
                        (and Ld Le)
                        (and Ld Lf)
                        (and Ld Lg)
                        (and Ld Lh)
                        (and Ld Li)
                        (and Ld Lj)
                        (and Ld Lk)
                        (and Ld Ll)
                        (and Ld Lm)
                        (and Ld Ln)
                        (and Ld Lo)
                        (and Ld Lp)
                        (and Ld Lq)
                        (and Ld Lr)
                        (and Le Lf)
                        (and Le Lg)
                        (and Le Lh)
                        (and Le Li)
                        (and Le Lj)
                        (and Le Lk)
                        (and Le Ll)
                        (and Le Lm)
                        (and Le Ln)
                        (and Le Lo)
                        (and Le Lp)
                        (and Le Lq)
                        (and Le Lr)
                        (and Lf Lg)
                        (and Lf Lh)
                        (and Lf Li)
                        (and Lf Lj)
                        (and Lf Lk)
                        (and Lf Ll)
                        (and Lf Lm)
                        (and Lf Ln)
                        (and Lf Lo)
                        (and Lf Lp)
                        (and Lf Lq)
                        (and Lf Lr)
                        (and Lg Lh)
                        (and Lg Li)
                        (and Lg Lj)
                        (and Lg Lk)
                        (and Lg Ll)
                        (and Lg Lm)
                        (and Lg Ln)
                        (and Lg Lo)
                        (and Lg Lp)
                        (and Lg Lq)
                        (and Lg Lr)
                        (and Lh Li)
                        (and Lh Lj)
                        (and Lh Lk)
                        (and Lh Ll)
                        (and Lh Lm)
                        (and Lh Ln)
                        (and Lh Lo)
                        (and Lh Lp)
                        (and Lh Lq)
                        (and Lh Lr)
                        (and Li Lj)
                        (and Li Lk)
                        (and Li Ll)
                        (and Li Lm)
                        (and Li Ln)
                        (and Li Lo)
                        (and Li Lp)
                        (and Li Lq)
                        (and Li Lr)
                        (and Lj Lk)
                        (and Lj Ll)
                        (and Lj Lm)
                        (and Lj Ln)
                        (and Lj Lo)
                        (and Lj Lp)
                        (and Lj Lq)
                        (and Lj Lr)
                        (and Lk Ll)
                        (and Lk Lm)
                        (and Lk Ln)
                        (and Lk Lo)
                        (and Lk Lp)
                        (and Lk Lq)
                        (and Lk Lr)
                        (and Ll Lm)
                        (and Ll Ln)
                        (and Ll Lo)
                        (and Ll Lp)
                        (and Ll Lq)
                        (and Ll Lr)
                        (and Lm Ln)
                        (and Lm Lo)
                        (and Lm Lp)
                        (and Lm Lq)
                        (and Lm Lr)
                        (and Ln Lo)
                        (and Ln Lp)
                        (and Ln Lq)
                        (and Ln Lr)
                        (and Lo Lp)
                        (and Lo Lq)
                        (and Lo Lr)
                        (and Lp Lq)
                        (and Lp Lr)
                        (and Lq Lr)
                        (or StartBool StartBool)
                        (not StartBool)
                        (= Start Start)
                        (<= Start Start)
                        ))         
     (StartBool Bool (StartBoolx
                      (and StartBoolx StartBool)
                      (or  StartBool StartBool)
                      (not StartBool)
                      (<  Start Start)
                      (=   Start Start)
                      (<=  Start Start)))))

(declare-var x Int)
(declare-var y Int)
(declare-var z Int)

(constraint (= (qm-choose x y z) (ite (and (< y x) (< x z)) 1 0))) 

(check-synth)
